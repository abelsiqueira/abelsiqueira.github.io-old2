__NUXT_JSONP__("/blog/2021-06-28-migracao-franklin", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){return {data:[{page:{slug:"2021-06-28-migracao-franklin",title:r,date:"2021-06-28",tags:["julia","franklin","site"],toc:[{id:s,depth:n,text:t},{id:u,depth:n,text:v},{id:w,depth:n,text:x},{id:y,depth:n,text:z}],body:{type:"root",children:[{type:b,tag:"h1",props:{id:"migração-do-site-para-franklinjl"},children:[{type:b,tag:f,props:{href:"#migra%C3%A7%C3%A3o-do-site-para-franklinjl",ariaHidden:i,tabIndex:j},children:[{type:b,tag:d,props:{className:[k,l]},children:[]}]},{type:a,value:r}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Há algum tempo o Jekyll tem me dado trabalho.\nComo não sou usuário de Ruby, volta e meia falta alguma coisa na minha instalação e eu passo horas tentando corrigir o problema pra fazer meu site rodar localmente.\nPara o CiDAMO, eu considerei o Hugo, já que tem mais suporte e eu não seria a única pessoa a cuidar do site.\nJá para meu site pessoal, e o site do "},{type:b,tag:f,props:{href:"https:\u002F\u002Fjuliasmoothoptimizers.github.io",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"Julia Smooth Optimizers"}]},{type:a,value:", resolvi usar Franklin, já que eu quero mais é usar Julia mesmo."}]},{type:a,value:c},{type:b,tag:o,props:{id:s},children:[{type:b,tag:f,props:{href:"#vantagens",ariaHidden:i,tabIndex:j},children:[{type:b,tag:d,props:{className:[k,l]},children:[]}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Franklin.jl é Julia,"}]},{type:a,value:" então eu tenho mais facilidade em manter e até mesmo de contribuir.\nO site é um repositório Julia, então tudo está dentro do esperado."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Franklin.jl roda Julia,"}]},{type:a,value:" isto é, dá pra usar Julia pra gerar conteúdo "},{type:b,tag:g,props:{},children:[{type:a,value:"E"}]},{type:a,value:" pra fazer tutoriais.\nPor exemplo, a lista de posts na página principal do blog é gerada por um script em Julia que lê os diretórios e imprime o markdown para a página.\nPor outro lado, os tutoriais do JSO e minhas notas de Cálculo Numérico rodam o código mostrado e a saída é mostrada, então o código está sempre atualizado (ou visivelmente quebrado)."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:b,tag:"em",props:{},children:[{type:a,value:"Builda"}]},{type:a,value:" no GitHub actions."}]},{type:a,value:" Então, eu consigo hostear no próprio github. É como GHA é o padrão do Julia, é fácil de achar suporte."}]},{type:a,value:c},{type:b,tag:o,props:{id:u},children:[{type:b,tag:f,props:{href:"#desvantagens",ariaHidden:i,tabIndex:j},children:[{type:b,tag:d,props:{className:[k,l]},children:[]}]},{type:a,value:v}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Pode ficar lento,"}]},{type:a,value:" já que tem que compilar e rodar o código.\nPor exemplo, as notas de cálculo numérico levam 40 minutos para rodar, porque tem dezenas de imagens e algumas animações.\nEu tive que fazer uma gambiarra para separar as notas do site. Falo mais sobre isso "},{type:b,tag:f,props:{href:A},children:[{type:a,value:"aqui"}]},{type:a,value:"."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Não é óbvio como manter layouts diferentes."}]},{type:a,value:" Por exemplo, se eu quiser ter um layout de "},{type:b,tag:m,props:{},children:[{type:a,value:"blog"}]},{type:a,value:" separado de um layout de "},{type:b,tag:m,props:{},children:[{type:a,value:"page"}]},{type:a,value:", não parece óbvio como.\nEu posso colocar "},{type:b,tag:m,props:{},children:[{type:a,value:"if"}]},{type:a,value:"s pra separar conteúdo, mas não é tão natural."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Ainda não está muito estável."}]},{type:a,value:" Naturalmente, já que é bem novo, mas dá pra sentir quando se precisa achar alguma coisa específica."}]},{type:a,value:c},{type:b,tag:o,props:{id:w},children:[{type:b,tag:f,props:{href:A,ariaHidden:i,tabIndex:j},children:[{type:b,tag:d,props:{className:[k,l]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Meu site tem 3 partes:"}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"a base, que consiste principalmente de material estático que eu pretendo atualizar de vez em quando (novos pacotes, pesquisa, orientações, cargos, etc.);"}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"as notas de cálculo numérico, que depois de pronto deve ver pouca atualização, mas que leva 40 minutos pra compilar no GitHub Actions."}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"o blog, que idealmente vê atualizações frequentes, e por isso vou fingir que terá atualizações frequentes."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Se eu coloco todos juntos, então qualquer mudança na base ou no blog leva 40 minutos pra compilar no GitHub Actions por causa das notas de cálculo numérico."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Por outro lado, se eu separo todas, mudanças no CSS, layout, javascript, etc., não são atualizadas."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"A solução, simples, é de só manter os arquivos de CSS, layout, javascript, etc., na base e copiá-los no build do GitHub Actions para os outros repositórios.\nAlém disso, adiciono essas pastas no "},{type:b,tag:m,props:{},children:[{type:a,value:".gitignore"}]},{type:a,value:", e localmente é só copiá-las para os repositórios que precisam dela.\nAqui a adição ao GitHub actions:"}]},{type:a,value:c},{type:b,tag:"div",props:{className:["nuxt-content-highlight"]},children:[{type:b,tag:"pre",props:{className:["language-yaml","line-numbers"]},children:[{type:b,tag:m,props:{},children:[{type:b,tag:d,props:{className:[h,p]},children:[{type:a,value:"-"}]},{type:a,value:B},{type:b,tag:d,props:{className:[h,C,D]},children:[{type:a,value:"name"}]},{type:b,tag:d,props:{className:[h,p]},children:[{type:a,value:E}]},{type:a,value:" Clone abelsiqueira.github.io\n  "},{type:b,tag:d,props:{className:[h,C,D]},children:[{type:a,value:"run"}]},{type:b,tag:d,props:{className:[h,p]},children:[{type:a,value:E}]},{type:a,value:B},{type:b,tag:d,props:{className:[h,p]},children:[{type:a,value:"|"}]},{type:b,tag:d,props:{className:[h,"scalar","string"]},children:[{type:a,value:"\n    wget https:\u002F\u002Fgithub.com\u002Fabelsiqueira\u002Fabelsiqueira.github.io\u002Farchive\u002Frefs\u002Fheads\u002Fmain.zip\n    unzip main.zip\n    mv abelsiqueira.github.io-main\u002F_layout .\n    mv abelsiqueira.github.io-main\u002F_css .\n    mv abelsiqueira.github.io-main\u002F_libs .\n    rm -rf abelsiqueira.github.io-main main.zip"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:o,props:{id:y},children:[{type:b,tag:f,props:{href:"#conclus%C3%A3o",ariaHidden:i,tabIndex:j},children:[{type:b,tag:d,props:{className:[k,l]},children:[]}]},{type:a,value:z}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"No fim das contas, sair do Jekyll para o Franklin vai ser uma experiência interessante.\nDevo fazer alguns posts atualizados usando as novas capacidades do Franklin, e aí veremos se valeu a pena ou não.\nTambém queria ter usado a oportunidade para aprender o Hugo, mas uma coisa de cada vez."}]}]},dir:"\u002Fblog",path:"\u002Fblog\u002F2021-06-28-migracao-franklin",extension:".md",createdAt:F,updatedAt:F,bodyPlainText:"\n# Migração do site para Franklin.jl\n\nHá algum tempo o Jekyll tem me dado trabalho.\nComo não sou usuário de Ruby, volta e meia falta alguma coisa na minha instalação e eu passo horas tentando corrigir o problema pra fazer meu site rodar localmente.\nPara o CiDAMO, eu considerei o Hugo, já que tem mais suporte e eu não seria a única pessoa a cuidar do site.\nJá para meu site pessoal, e o site do [Julia Smooth Optimizers](https:\u002F\u002Fjuliasmoothoptimizers.github.io), resolvi usar Franklin, já que eu quero mais é usar Julia mesmo.\n\n## Vantagens\n\n**Franklin.jl é Julia,** então eu tenho mais facilidade em manter e até mesmo de contribuir.\nO site é um repositório Julia, então tudo está dentro do esperado.\n\n**Franklin.jl roda Julia,** isto é, dá pra usar Julia pra gerar conteúdo **E** pra fazer tutoriais.\nPor exemplo, a lista de posts na página principal do blog é gerada por um script em Julia que lê os diretórios e imprime o markdown para a página.\nPor outro lado, os tutoriais do JSO e minhas notas de Cálculo Numérico rodam o código mostrado e a saída é mostrada, então o código está sempre atualizado (ou visivelmente quebrado).\n\n**_Builda_ no GitHub actions.** Então, eu consigo hostear no próprio github. É como GHA é o padrão do Julia, é fácil de achar suporte.\n\n## Desvantagens\n\n**Pode ficar lento,** já que tem que compilar e rodar o código.\nPor exemplo, as notas de cálculo numérico levam 40 minutos para rodar, porque tem dezenas de imagens e algumas animações.\nEu tive que fazer uma gambiarra para separar as notas do site. Falo mais sobre isso [aqui](#gambiarra).\n\n**Não é óbvio como manter layouts diferentes.** Por exemplo, se eu quiser ter um layout de `blog` separado de um layout de `page`, não parece óbvio como.\nEu posso colocar `if`s pra separar conteúdo, mas não é tão natural.\n\n**Ainda não está muito estável.** Naturalmente, já que é bem novo, mas dá pra sentir quando se precisa achar alguma coisa específica.\n\n## Gambiarra\n\nMeu site tem 3 partes:\n\n- a base, que consiste principalmente de material estático que eu pretendo atualizar de vez em quando (novos pacotes, pesquisa, orientações, cargos, etc.);\n- as notas de cálculo numérico, que depois de pronto deve ver pouca atualização, mas que leva 40 minutos pra compilar no GitHub Actions.\n- o blog, que idealmente vê atualizações frequentes, e por isso vou fingir que terá atualizações frequentes.\n\nSe eu coloco todos juntos, então qualquer mudança na base ou no blog leva 40 minutos pra compilar no GitHub Actions por causa das notas de cálculo numérico.\n\nPor outro lado, se eu separo todas, mudanças no CSS, layout, javascript, etc., não são atualizadas.\n\nA solução, simples, é de só manter os arquivos de CSS, layout, javascript, etc., na base e copiá-los no build do GitHub Actions para os outros repositórios.\nAlém disso, adiciono essas pastas no `.gitignore`, e localmente é só copiá-las para os repositórios que precisam dela.\nAqui a adição ao GitHub actions:\n\n```yaml\n- name: Clone abelsiqueira.github.io\n  run: |\n    wget https:\u002F\u002Fgithub.com\u002Fabelsiqueira\u002Fabelsiqueira.github.io\u002Farchive\u002Frefs\u002Fheads\u002Fmain.zip\n    unzip main.zip\n    mv abelsiqueira.github.io-main\u002F_layout .\n    mv abelsiqueira.github.io-main\u002F_css .\n    mv abelsiqueira.github.io-main\u002F_libs .\n    rm -rf abelsiqueira.github.io-main main.zip\n```\n\n## Conclusão\n\nNo fim das contas, sair do Jekyll para o Franklin vai ser uma experiência interessante.\nDevo fazer alguns posts atualizados usando as novas capacidades do Franklin, e aí veremos se valeu a pena ou não.\nTambém queria ter usado a oportunidade para aprender o Hugo, mas uma coisa de cada vez.\n"},prev:{slug:"2021-12-03-cffinit",title:"cffinit: NOW is the time to get more recognition for your software!"},next:{slug:"2018-12-12-koch-snowflakes-for-the-holidays",title:"Koch snowflakes for the holidays"}}],fetch:{},mutations:void 0}}("text","element","\n","span","p","a","strong","token","true",-1,"icon","icon-link","code",2,"h2","punctuation","li","Migração do site para Franklin.jl","vantagens","Vantagens","desvantagens","Desvantagens","gambiarra","Gambiarra","conclusão","Conclusão","#gambiarra"," ","key","atrule",":","2022-12-23T17:39:35.597Z")));